#!/usr/bin/python3
# coding=gbk
# -*- coding: utf-8 -*-
import re
import urllib.request
import urllib.parse
import time


def craw(chinese):
    url = 'http://hanyu.baidu.com/s?wd=' + urllib.parse.quote(chinese) + '&ptype=zici'

    header = {
       'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.119 Safari/537.36'
    }

    serverError = True
    while serverError:
        try:
            request = urllib.request.Request(url, headers=header)
            reponse = urllib.request.urlopen(request).read()
            html = str(reponse)

            imgs = re.compile('data-gif="(.+?\.gif)"').findall(html)
            for img in imgs:
                imagename = 'D:/ºº×Ö±Ê/' + chinese + '.gif'
                imageurl = img
                try:
                    urllib.request.urlretrieve(imageurl, filename=imagename)
                except:
                    print(chinese + ' failure')
            serverError = False
        except:
            print(chinese + 'server error')
            time.sleep(2)
strs = ['Ø°','µó','Ø¤','´õ','¸ê','Ø²','ÂØ','¼¥','Èß','µË','°¬','º»','Í¹','Â¬','°È','ß´','Ãó','°¼','Çô','Ê¸','Õ§','¶û','·ë','Ğş','°î','ÓØ','ĞÏ','Óó','ÉÖ','Àô','ÒÄ','Óõ','ÂÀ','ßº','ÒÙ','Í¢','Æù','¾Ê','ÖÙ','Â×','ÒÁ','Àß','Ğñ','ĞÙ','Ùì','×±','º¥','Ñ´','»ä','ÑÈ','¶ï','ËÏ','¾÷','³Ú','Úå','ÍÔ','Ñ±','ÈÒ','¾Á','Âê','ÈÍ','¿Ù','¶ó','¹¯','°â','ÂÕ','¿²','Îë','ÒÖ','Äâ','Êã','Ü½','Îß','Î­','½æ','Ğ¾','°Å','ÕÈ','É¼','Î×','è¾','¸¦','Ï»','Ğù','Â±','Ğ¤','Ö¨','·Í','Å»','ÄÅ','Ò÷','Çº','ÎÇ','¿Ô','ÒØ','¶Ú','Ë±','á«','Äµ','ÓÓ','µè','ËÅ','´Ñ','¸Ø','Öâ','µé','±·','ğ¯','Í®','¾Ä','ÅÙ','±Ó','Áß','Â®','Èò','¶Ò','×Æ','ãå','Åæ','Ì­','Á¤','ÂÙ','ĞÚ','²×','»¦','³À','×ç','Õ©','º±','Æ¨','×¹','¼Ë','æ¢','¶Ê','Î³','Ãµ','ØÔ','¿À','Å÷','ÍØ','Æº','À¤','Öô','Å¡','·÷','×¾','Ä´','ŞÖ','ÜÔ','Îô','¿Á','É»','¹¶','°ú','×Â','Ì¦','Í÷','Êà','Ã¶','·ã','º¼','Óô','·¯','ÄÎ','ÑÙ','Å¹','Æç','×¿','ê¼','°¥','¹¾','ºÇ','Áü','Éë','Öä','ÅØ','¿§','ÅÁ','ÕË','±á','Öü','·Õ','±ü','ÔÀ','ÏÀ','½Ä','ÂÂ','³Ş','±°','¹ô','É²','ëÈ','ÃÙ','·Ş','ÎÍ','°¹','·¾','Äü','ÅÓ','Å±','¸í','¾Î','×ä','Ã¥','¾æ','¹Á','¾Ú','Æü','Å¢','ÃÚ','ÕÓ','Õú','ÇÓ','³è','Íğ','ñÃ','Æí','¹î','Öã','Ìë','»¡','ÃÖ','Âª','Ä°','º¯','Ä·','Ê­','Èş','Éğ','¾Ô','°í','Òï','Æõ','·¡','çè','Áá','Éº','ÊÃ','¿½','¹°','Ğ®','¹¸','¶â','Õü','¾£','È×','²ç','¼Ô','Òğ','Üî','Üñ','Üù','»ç','Ó«','Àó','Õ»','¸Ì','Õ¤','Äû','¼Ï','²ª','¼í','É°','±Ã','Ñâ','Å¸','Öá','¾Â','Å°','ÃÁ','íï','ßÖ','êÇ','ÕÑ','ÖÑ','Ñ«','¶ß','ßä','Ó´','ÓÄ','¸Æ','¶Û','ÄÆ','ÇÕ','¾û','Å¥','Õ±','Çâ','ïõ','ÇÎ','¶í','Àş','ºî','»²','ÑÜ','Åß','ëÊ','Ì¥','Õø','¶ü','ÂÍ','ŞÈ','×É','ìª','¹ë','Ãö','×Ñ','Â¦','Ë¸','ìÅ','Íİ','Æâ','ÏÑ','Âå','ÊÑ','»Ğ','Ìñ','Ğô','»Â','½ë','ÎÜ','ìô','»å','ÆÁ','Êº','Ñ·','ÔÉ','Ò¦','ÄÈ','Ôé','º§','ÔÅ','°Ò','ÇØ','Ää','¹¡','Îæ','º´','Ô¬','°Æ','´ì','Ö¿','µ·','Í±','°£','¹¢','Äô','İ©','Ã§','À³','Àò','Ó¨','İº','°ğ','ÆÜ','èë','Ë¨','Î¦','×®','¼Ö','×Ã','ÔÒ','Åé','Àù','Ñ³','³Ñ','Ïø','ßë','²¸','ÌŞ','°ö','ÑÁ','ÅÏ','ò¼','ò½','ò¾','Á¨','ÆÔ','Ñì','Ñä','ºß','Ëô','ÇÍ','ßó','¾ş','Â¸','Ôß','¼Ø','Ã­','°±','ïø','°Ê','°³','ÁŞ','¾ó','Òó','ËÊ','Ò¨','²ò','±ª','°ä','¿è','ÒÈ','Æê','Å§','¹ä','Çä','ÍÒ','Ô§','ÄÙ','Áè','Æà','ÖÔ','¹ù','Õ«','Õî','ÎÉ','´É','¸á','ÀÓ','ÆÖ','ÎĞ','»Á','µÓ','½§','Ìé','É¬','º·','Ãõ','ÇÏ','Åµ','·Ì','Ì»','×»','Ëî','Ë¡','Ãä','¿¥','Ëö','ôï','Áğ','ÀÅ','´ë','Şà','´·','Éâ','²º','Äí','Æş','µà','Ò´','ÖÀ','µ§','²ô','¿±','ÁÄ','È¢','Áâ','·Æ','Î®','ÆĞ','Ó©','Ç¬','Ïô','Èø','¹½','±ò','¹£','Îà','Ëó','²Ü','ÔÍ','Ğï','Ïá','¹è','Ë¶','Éİ','¿ø','ØÒ','Â­','±ë','¿ô','Îî','Âü','»Ş','Ãá','·È','Æè','Öº','¿Ğ','Çù','òÇ','òÈ','Öû','»£','†ª','ÍÙ','Æ¡','É¶','Ğ¥','Æé','Âß','´Ş','±À','Ó¤','ÉŞ','îí','îõ','ÂÁ','Õ¡','Ï³','Ãú','½Ã','½Õ','»à','óÏ','óÔ','ÙË','¿ş','Çû','¶µ','ĞÆ','ÅÇ','áã','²°','ÏÏ','¶æ','Á²','ôá','¸¬','Òİ','»Ë','²ş','¼À','Åë','Êü','âÖ','È¬','ÑÖ','²û','¾ì','º¸','»À','ºè','ÑÄ','Êç','ÌÊ','»´','Ïı','Ô¨','Òù','´¾','ÓÙ','µí','äÌ','º­','µë','ã²','Íï','¼Å','ÖÏ','µı','Ğ³','ñÉ','¸¤','µ»','ÚË','Î½','Ñè','Î¾','¶é','Óç','Íñ','ÆÄ','´Â','±Á','×Û','ÕÀ','×º','³²','ÁÕ','×Á','Çí','×á','Ñß','¿«','À¿','Ò¾','Åí','´§','²ó','´ê','Ò¼','É¦','ºù','Ä¼','½¯','µÙ','º«','Àâ','Ò¬','·Ù','×µ','¹×','ÀÆ','ÍÖ','ËÚ','¼¬','º¨','ËÖ','Ïõ','Áò','¼Õ','ö¨','ÇÌ','Ôä','ÌÄ','Îú','¶¦','Ôû','¶ô','ÁÀ','³ë','°Ï','õË','»×','ÑÑ','¸ò','¾é','Ó÷','Ìä','Ğú','Ç¶','¸³','Êê','´Í','ï±','Ğ¿','Éû','êş','µª','ÂÈ','Êò','·¤','ë¹','ÔÁ','Óâ','ëç','Ò¸','Íó','ĞÉ','â¬','±¹','¶Ø','¶»','Á¡','»¾','¿¢','Ïè','µì','Ëì','±º','ÖÍ','Ïæ','²³','Ãì','À£','½¦','ÅÈ','ãµ','»Ì','Ô¢','½Ñ','¾½','¹Í','°ù','Ï¬','°¯','Ã½','ÃÄ','Ğö','Ãå','ÀÂ','µŞ','ÂÆ','É§','Éª','ğÄ','¹å','ÌÂ','Æ¸','Õå','Ñ¥','°Ğ','±Í','İï','ÆÑ','ÈØ','Ğ¨','´»','¿¬','é­','Àã','é¹','ÀÒ','µâ','Åğ','µï','·ø','¼­','Æµ','¶Ã','ÄÀ','Ãé','ÊÈ','àÂ','Ï¾','»û','õÎ','¶å','òÚ','ÎÏ','ÍÉ','Ó¼','Ğá','ÎË','àÍ','Êğ','Êñ','»Ï','Ãª','×¶','ÏÇ','¶§','ÃÌ','ÖÉ','ÍÇ','¿ê','¿ı','ÑÃ','Äå','Èù','ÏÙ','Åô','ÒŞ','Ô³','Ó±','É·','³û','âÉ','Áó','Ù÷','±Ô','Àª','³Õ','¾¸','ÌÜ','Àì','Òç','Ëİ','ÈÜ','×Ò','Äç','Ä¯','¿ú','¿ß','ÇŞ','¹Ó','Âã','Ãı','Ï±','¼µ','¸¿','çÍ','½Ë','×¸','°¾','ºÕ','Äè','Ä¡','Âû','Õá','°ª','Îõ','Îµ','¾¤','é»','éÅ','½Í','µú','²ê','¼î','Ì¼','Ô¯','Ï½','´Æ','Êû','àÒ','Ó»','²õ','àÖ','á£','¶Æ','Ìò','Ñ¬','¹¿','»ş','óï','Óß','É®','·õ','´ñ','ÎÁ','ÕÃ','´â','Êş','äö','Ñú','¿¶','¹Ñ','ÁÈ','Ì·','ºÖ','ÍÊ','Ëí','µÕ','Ó§','Äì','ÁÃ','´é','ÇË','ÇÜ','¶Õ','×«','°°','Èï','ÔÌ','·®','ÕÁ','éÏ','·ó','Íã','´¼','¿Ä','°õ','Äë','±ï','Ë»','³°','àÚ','òğ','Ğ«','òò','»È','òù','ºÙ','´±','Ä÷','¸ä','»ü','Â¨','±ì','Àğ','öê','°ı','±ñ','Áö','Ì±','Áİ','Åì','Ì¶','ÁÊ','°Ä','ÅË','³º','À½','³Î','ã¾','°Ã','Ô÷','ôæ','Èì','Ç´','º×','º©','ÂÄ','æÒ','Ô¥','çÔ','º³','ÀŞ','ÉÃ','ÀÙ','Ñ¦','Ş±','Çæ','º²','Ø¬','³÷','³È','Æ°','ó¨','»ô','ö®','ÕŞ','¼½','õâ','õå','ó¡','ó¦','Ãø','Ôë','ğĞ','Ç­','ÄÂ','´Û','Åñ','¸İ','Àé','Èå','ÉÅ','¾¨','ñ«','È³','²Ú','ÁÇ','±ô','º¶','Ğ¸','Áş','çÖ','º¾','Ãê','ÃÊ','éÜ','éİ','Ì´','½¸','Á×','²t','Ë²','Í«','µÉ','Êï','Ì£','ó¬','ó°','º¿','ÉÄ','ÁÍ','Îº','´Ø','ÀÜ','»Õ','¾ô','ëü','ëı','öù','ÃÓ','°©','Å³','»í','ÍÎ','Åº','ÌÙ','Õ°','Ïù','÷¢','ñ®','ÆÙ','½ó','èµ','´Á','ÔÜ','Äõ','Ä¢','Ôå','±î','²ä','µÅ','ô¤','²¾','Ğ·','ÃÒ','Ñ¢','¸ş','÷Ş','ÈÁ','Èä','Î¡','ÁÛ','Å´','Æ©','Åù','õï','Ëè','Õº','Ïâ','È¿','´£']
for st in strs:
    craw(st)
    time.sleep(2)